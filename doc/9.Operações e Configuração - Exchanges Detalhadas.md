### Operações e Configuração: Exchanges Detalhadas

#### Direct Exchange

A **Direct Exchange** é a exchange mais simples e direta no RabbitMQ. Ela roteia mensagens para filas com base em uma chave de roteamento exata. Ou seja, a mensagem é entregue à fila cujo binding key corresponde exatamente à routing key da mensagem.

**Características:**
- **Routing Key**: A chave de roteamento é usada para determinar para qual fila a mensagem deve ser enviada.
- **Uso Comum**: Ideal para cenários onde mensagens devem ser roteadas de maneira precisa para uma ou mais filas específicas.

**Exemplo de Configuração:**

1. **Criando a Exchange e a Fila**:
   ```java
   channel.exchangeDeclare("direct_logs", "direct");
   channel.queueDeclare("info_queue", false, false, false, null);
   ```

2. **Binding da Fila à Exchange com uma Chave de Roteamento**:
   ```java
   channel.queueBind("info_queue", "direct_logs", "info");
   ```

3. **Publicando Mensagens com Chaves de Roteamento**:
   ```java
   String message = "Info message";
   channel.basicPublish("direct_logs", "info", null, message.getBytes());
   ```

#### Fanout Exchange

A **Fanout Exchange** roteia mensagens para todas as filas que estão ligadas a ela, ignorando as chaves de roteamento. Esse tipo de exchange é útil para disseminar a mesma mensagem para múltiplas filas, como em sistemas de broadcasting.

**Características:**
- **Routing Key**: Ignorada. A mensagem é enviada para todas as filas ligadas à exchange.
- **Uso Comum**: Ideal para cenários de distribuição em massa, como notificações ou logs.

**Exemplo de Configuração:**

1. **Criando a Exchange e as Filas**:
   ```java
   channel.exchangeDeclare("logs", "fanout");
   channel.queueDeclare("log_queue1", false, false, false, null);
   channel.queueDeclare("log_queue2", false, false, false, null);
   ```

2. **Binding das Filas à Exchange**:
   ```java
   channel.queueBind("log_queue1", "logs", "");
   channel.queueBind("log_queue2", "logs", "");
   ```

3. **Publicando Mensagens**:
   ```java
   String message = "Broadcast message";
   channel.basicPublish("logs", "", null, message.getBytes());
   ```

#### Topic Exchange

A **Topic Exchange** roteia mensagens com base em padrões de tópicos usando chaves de roteamento que podem incluir curingas (`*` e `#`). Isso permite um roteamento mais flexível e dinâmico das mensagens.

**Características:**
- **Routing Key**: Utiliza padrões que podem incluir curingas:
  - `*`: Substitui exatamente uma palavra.
  - `#`: Substitui zero ou mais palavras.
- **Uso Comum**: Ideal para sistemas que requerem roteamento baseado em tópicos hierárquicos, como notícias ou logs categorizados.

**Exemplo de Configuração:**

1. **Criando a Exchange e as Filas**:
   ```java
   channel.exchangeDeclare("topic_logs", "topic");
   channel.queueDeclare("queue_errors", false, false, false, null);
   channel.queueDeclare("queue_all_logs", false, false, false, null);
   ```

2. **Binding das Filas à Exchange com Padrões de Tópicos**:
   ```java
   channel.queueBind("queue_errors", "topic_logs", "*.error");
   channel.queueBind("queue_all_logs", "topic_logs", "#");
   ```

3. **Publicando Mensagens com Chaves de Roteamento de Tópicos**:
   ```java
   String message = "Error message";
   channel.basicPublish("topic_logs", "app1.error", null, message.getBytes());
   ```

#### Headers Exchange

A **Headers Exchange** utiliza os cabeçalhos das mensagens em vez das chaves de roteamento para determinar o destino das mensagens. Ela permite um roteamento mais complexo e flexível baseado em múltiplos atributos de cabeçalho.

**Características:**
- **Headers**: Os cabeçalhos das mensagens são usados para roteamento.
- **Uso Comum**: Ideal para cenários onde o roteamento precisa ser baseado em múltiplos atributos ou em regras complexas de cabeçalho.

**Exemplo de Configuração:**

1. **Criando a Exchange e as Filas**:
   ```java
   channel.exchangeDeclare("headers_logs", "headers");
   channel.queueDeclare("header_queue", false, false, false, null);
   ```

2. **Binding da Fila à Exchange com Cabeçalhos Específicos**:
   ```java
   Map<String, Object> headers = new HashMap<>();
   headers.put("format", "pdf");
   headers.put("type", "report");
   channel.queueBind("header_queue", "headers_logs", "", headers);
   ```

3. **Publicando Mensagens com Cabeçalhos**:
   ```java
   AMQP.BasicProperties props = new AMQP.BasicProperties.Builder()
       .headers(Map.of("format", "pdf", "type", "report"))
       .build();
   String message = "Header message";
   channel.basicPublish("headers_logs", "", props, message.getBytes());
   ```

---

Compreender os diferentes tipos de exchanges no RabbitMQ permite escolher a estratégia de roteamento mais adequada para suas necessidades, garantindo que as mensagens sejam entregues de maneira eficiente e precisa às filas e consumidores corretos.